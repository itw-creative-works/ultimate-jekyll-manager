<footer class="pt-5 pb-4 border-top mt-auto">
  <div class="container">
    <!-- Logo Row -->
    <div class="row mb-4">
      <!-- Brand/Logo Section -->
      <div class="col-12 col-lg-3 mb-4 mb-lg-0">
        {% capture logo_href %}{% assign temp_href = data.logo.href | default: site.brand.href | default: '/' %}{% if temp_href and temp_href != '' and temp_href != 'null' %}{{ temp_href }}{% else %}javascript:void(0){% endif %}{% endcapture %}
        {% capture logo_src %}{% if data.logo.src %}{{ data.logo.src }}{% else %}{{ site.brand.images.brandmark | default: null }}{% endif %}{% endcapture %}
        {% capture logo_text %}{{ data.logo.text | default: site.brand.name | liquify }}{% endcapture %}
        {% capture logo_description %}{{ data.logo.description | default: site.brand.description | liquify }}{% endcapture %}

        <h5 class="mb-3">
          <a class="d-flex align-items-center text-decoration-none text-body" href="{{ logo_href }}">
            {% if logo_src and logo_src != '' and logo_src != 'null' %}
              <img src="{{ logo_src }}" alt="{{ logo_text }}" height="40" class="me-2">
            {% endif %}
            {% if logo_text and logo_text != '' and logo_text != 'null' %}
              <span>{{ logo_text }}</span>
            {% endif %}
          </a>
        </h5>
        {% if logo_description and logo_description != '' and logo_description != 'null' %}
          <p class="text-body-secondary mb-0">{{ logo_description }}</p>
        {% endif %}
      </div>

      <!-- Links Column (only on lg screens) -->
      <div class="col-12 col-lg-9">
        <div class="row">
          <!-- Dynamic Links Sections -->
          {% if data.links and data.links.size > 0 %}
            {% assign links_count = data.links.size %}
            {% assign col_class = 'col-6 col-md' %}
            {% if links_count == 2 %}
              {% assign col_class = 'col-6 col-md-6' %}
            {% elsif links_count == 3 %}
              {% assign col_class = 'col-6 col-md-4' %}
            {% elsif links_count == 4 %}
              {% assign col_class = 'col-6 col-md-3' %}
            {% elsif links_count == 6 %}
              {% assign col_class = 'col-6 col-md-2' %}
            {% endif %}

            {% for link_group in data.links %}
              {% capture group_label %}{{ link_group.label | default: 'Links' }}{% endcapture %}
              <div class="{{ col_class }}">
            <h5 class="mb-4">{{ group_label }}</h5>
            <ul class="list-unstyled">
              {% for link in link_group.links %}
                {% capture link_classes %}link-secondary text-decoration-none{% if link.classes %} {{ link.classes | join: ' ' }}{% endif %}{% endcapture %}
                {% capture link_attributes %}{% if link.attributes %}{% for attr in link.attributes %} {{ attr[0] }}="{{ attr[1] }}"{% endfor %}{% endif %}{% endcapture %}
                {% capture link_icon %}{% if link.icon %}{{ site.icons[link.icon] }}{% endif %}{% endcapture %}
                {% capture link_href %}{% if link.href and link.href != '' and link.href != 'null' %}{{ link.href }}{% else %}javascript:void(0){% endif %}{% endcapture %}
                <li class="mb-1">
                  <a class="{{ link_classes }}" href="{{ link_href }}"{{ link_attributes }}>
                    {{ link_icon }}
                    {{ link.label }}
                  </a>
                </li>
              {% endfor %}
            </ul>
              </div>
            {% endfor %}
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Bottom Section -->
    <div class="row mt-4 pt-3 border-top">
      <!-- Social Links -->
      {% if data.socials.enabled %}
        <div class="col-md-6">
          <div class="d-inline-block">
            {% if data.socials.list and data.socials.list.size > 0 %}
              {% assign social_list = data.socials.list %}
            {% else %}
              {% assign social_list = 'twitter,facebook,instagram,linkedin,github' | split: ',' %}
            {% endif %}

            {% for social in social_list %}
              {% iftruthy social %}
                {% if forloop.last %}
                  {% assign spacing_class = '' %}
                {% else %}
                  {% assign spacing_class = 'me-2' %}
                {% endif %}
                <a href="{% uj_social social %}" class="link-secondary text-decoration-none {{ spacing_class }}" aria-label="{{ social | capitalize }}">
                  {% uj_icon social, 'fa-md' %}
                </a>
              {% endiftruthy %}
            {% endfor %}
          </div>
        </div>
      {% endif %}

      <!-- Legal Links -->
      {% if data.legal.enabled %}
        <div class="col-md-6 text-md-end">
          <a href="/terms" class="link-secondary text-decoration-none">Terms</a>
          <span class="text-body-secondary mx-2"> / </span>
          <a href="/privacy" class="link-secondary text-decoration-none">Privacy</a>
          <span class="text-body-secondary mx-2"> / </span>
          <a href="/cookies" class="link-secondary text-decoration-none">Cookies</a>
        </div>
      {% endif %}
    </div>

    <!-- Copyright Row -->
    {% if data.copyright.enabled %}
      <div class="row mt-3">
        <div class="col-12 text-center">
          {% if data.copyright.text %}
            {% capture copyright_text %}{{ data.copyright.text }}{% endcapture %}
          {% else %}
            {% capture copyright_text %}
              Â© {{ site.time | date: "%Y" }} <strong>{{ site.brand.name }}</strong> by <a href="https://itwcreativeworks.com">ITW Creative Works</a>. All rights reserved.
              <br>
              By using this site and our services, you agree to our <a href="/terms">Terms</a> & <a href="/privacy">Privacy Policy</a>.
            {% endcapture %}
          {% endif %}
          <span class="text-body-secondary">{{ copyright_text | liquify }}</span>
        </div>
      </div>
    {% endif %}
  </div>
</footer>
