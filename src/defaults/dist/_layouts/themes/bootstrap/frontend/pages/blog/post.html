---
### ALL PAGES ###
layout: themes/[ site.theme.id ]/frontend/core/base

### THEME CONFIG ###
theme:
  post:
    image:
      class: "img-fluid rounded-3 w-100 my-4"

### WEB MANAGER CONFIG ###
web_manager:
  socialSharing:
    enabled: true
---

<section class="py-7 py-lg-8">
  <div class="container">
    <div class="row justify-content-center mb-3">
      <div class="col-xl-8 col-lg-8 col-md-12 col-12">
        <div class="text-center mb-4">
          <h1 class="display-3 fw-bold mb-4">{{ page.post.title }}</h1>
          <div class="">
            {{ page.date | date: "%b %d, %Y" }}
          </div>
          <div class="badge bg-primary">{%- uj_readtime -%} min read</div>
        </div>

        <!-- Media -->
        <div class="d-flex justify-content-between align-items-center mb-5">
          <div class="d-flex align-items-center">
            <a href="{%- uj_member page.post.author, "url" -%}" class="text-decoration-none me-2">
              {%- uj_member page.post.author, "image-tag", class="avatar avatar-md rounded-circle" -%}
            </a>
            <div>
              <a href="{%- uj_member page.post.author, "url" -%}" class="text-decoration-none text-body fw-semibold d-block">
                {%- uj_member page.post.author, "name" -%}
              </a>
              <span class="text-muted small">Marketing Manager</span>
            </div>
          </div>
          <div>
            <div data-social-share
                  data-platforms=""
                  data-title=""
                  data-description=""
                  data-url=""
                  data-size="sm"
                  data-labels="false">
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-xl-10 col-lg-10 col-md-12 col-12 mb-5">
        {%- uj_post page.post.id, "image-tag", class="img-fluid rounded-3 w-100", alt=page.post.title -%}
      </div>
    </div>

    <div class="row justify-content-center mb-3">
      <div class="col-xl-8 col-lg-8 col-md-12 col-12">
        <div>
          {{ content | uj_content_format }}
        </div>
      </div>
    </div>

    <div class="row justify-content-center mb-3">
      <div class="col-xl-8 col-lg-8 col-md-12 col-12">
        <div class="d-flex justify-content-between align-items-center">
          <h3 class="h2">Tags</h3>
          <div data-social-share
                data-platforms=""
                data-title=""
                data-description=""
                data-url=""
                data-size="sm"
                data-labels="false">
          </div>
        </div>

        <div class="">
          {% assign tags = '' | split: ',' %}
            {% for tag in page.post.tags %}
              {% assign tag_fixed = tag | uj_title_case %}

              {% unless tags contains tag_fixed %}
                {% assign tags = tags | push: tag_fixed %}
              {% endunless %}
            {% endfor %}
          {% for tag in tags %}
            <a href="{{ site.url }}/blog?tag={{ tag }}" class="btn btn-adaptive btn-xs mb-2">{{ tag }}</a>
          {% endfor %}
        </div>
      </div>
    </div>

    <div class="row justify-content-center mb-3">
      <div class="col-xl-8 col-lg-8 col-md-12 col-12">
        <h3 class="h2">About the author</h3>
        <div class="d-sm-flex">
          <div class="flex-shrink-0 mb-3 mb-sm-0">
            <a href="{% uj_member page.post.author, "url" %}">
              {% uj_member page.post.author, "image-tag", class="avatar avatar-xl rounded-circle" %}
            </a>
          </div>
          <div class="flex-grow-1 ms-sm-4">
            <div class="d-flex justify-content-between align-items-center mb-1">
              <a href="{% uj_member page.post.author, "url" %}">
                <h4 class="mb-0">
                  {%- uj_member page.post.author, "name" -%}
                </h4>
              </a>
              <a class="btn btn-outline-primary btn-sm" href="{% uj_member page.post.author, "url" %}">
                <i class="bi-person-plus-fill me-1"></i> Follow
              </a>
            </div>
            <p>
              {%- uj_member page.post.author, "content" -%}
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="row justify-content-center mb-3">
      <div class="col-xl-8 col-lg-8 col-md-12 col-12">
        <h3 class="h2">Comments</h3>

        {%- include modules/engagement/giscus.html -%}
      </div>
    </div>

    <div class="row justify-content-center mb-3 py-lg-8 py-6">
      <div class="col-xl-8 col-lg-8 col-md-12 col-12">
        <div class="text-center mb-5">
          <h2 class="display-4 fw-bold">Sign up for our Newsletter</h2>
          <p class="mb-0 lead">
            Join our newsletter and get resources, curated content, and inspiration delivered straight to your inbox.
          </p>
        </div>
        <form class="row px-md-8 mx-md-8 gx-2 needs-validation" action="{{ site.url }}/email-subscription">
          <div class="col">
            <input type="email" name="email" class="form-control" placeholder="jonsnow@gmail.com" required>
          </div>
          <div class="col-auto">
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>
      </div>
    </div>

    <div class="row justify-content-center mb-3">
      <div class="col-12">
        <div class="mb-3 mb-sm-5">
          <h3 class="h2">Related Posts</h3>
        </div>
        <div class="row g-4">
          <!-- Loop through last 3 posts -->
          {% assign count = 0 %}
          {% for post in site.posts %}
            {% if count < 3 %}
              {% if post.id != page.post.id %}
                {% assign count = count | plus: 1 %}
                <div class="col-xl-4 col-lg-6 col-md-12">
                  <article class="card h-100 shadow-sm border-0 bg-body-tertiary">
                    <!-- Image -->
                    <div class="p-3 pb-0">
                      <a href="{{ site.url }}{{ post.url }}" class="text-decoration-none">
                        {%- uj_post post.post.id, "image-tag", class="img-fluid object-fit-cover blog-post-image rounded-3" -%}
                      </a>
                    </div>

                    <!-- Card Body -->
                    <div class="card-body d-flex flex-column">
                      <!-- Category Badge -->
                      {% if post.post.categories[0] %}
                        <div class="mb-2">
                          <span class="badge bg-primary-soft text-primary">
                            {{ post.post.categories[0] | uj_title_case }}
                          </span>
                        </div>
                      {% endif %}

                      <!-- Title -->
                      <h3 class="h5 card-title mb-0">
                        <a href="{{ site.url }}{{ post.url }}" class="text-decoration-none text-body">
                          {{ post.post.title }}
                        </a>
                      </h3>
                    </div>

                    <!-- Card Footer -->
                    <div class="card-footer bg-transparent border-0 pt-0 pb-3">
                      <div class="d-flex align-items-center justify-content-between small">
                        <!-- Left side: Author and Date -->
                        <div class="d-flex align-items-center">
                          <!-- Author Avatar -->
                          <a href="{%- uj_member post.post.author, "url" -%}" class="text-decoration-none me-2 position-relative z-1">
                            {%- uj_member post.post.author, "image-tag", class="avatar avatar-md rounded-circle" -%}
                          </a>

                          <!-- Author Name and Date stacked -->
                          <div>
                            <a href="{%- uj_member post.post.author, "url" -%}" class="text-decoration-none text-body fw-semibold position-relative z-1 d-block">
                              {%- uj_member post.post.author, "name" -%}
                            </a>
                            <time datetime="{{ post.date | date_to_xmlschema }}" class="text-muted">
                              {{ post.date | date: "%b %d, %Y" }}
                            </time>
                          </div>
                        </div>

                        <!-- Right side: Read time -->
                        <div class="text-muted">
                          {% uj_readtime post.content %} min read
                        </div>
                      </div>
                    </div>
                  </article>
                </div>
              {% endif %}
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>

  </div>
</section>

