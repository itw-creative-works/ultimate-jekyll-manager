---
### ALL PAGES ###
layout: themes/[ site.theme.id ]/frontend/core/cover

### THEME CONFIG ###
theme:
  main:
    align: "start"

### WEB MANAGER CONFIG ###
web_manager:
  auth:
    config:
      policy: "authenticated"

### ICON PRE-RENDERING ###
prerender_icons:
  - name: "apple"
    class: "fa-3xl"
  - name: "android"
    class: "fa-3xl"
  - name: "windows"
    class: "fa-3xl"
  - name: "linux"
    class: "fa-3xl"
  - name: "chrome"
    class: "fa-3xl"
  - name: "desktop"
    class: "fa-3xl"

### PAGE CONFIG ###
sections:
  - id: "profile"
    name: "Profile"
    icon: "user-circle"
  # - id: "notifications"
  #   name: "Notifications"
    icon: "bell"
  - id: "security"
    name: "Security"
    icon: "shield-halved"
  - id: "connections"
    name: "Connections"
    icon: "link"
  - id: "billing"
    name: "Billing"
    icon: "credit-card"
  - id: "team"
    name: "Team"
    icon: "users"
  - id: "referrals"
    name: "Referrals"
    icon: "user-plus"
  - id: "api-keys"
    name: "API Keys"
    icon: "key"
  - id: "delete"
    name: "Delete Account"
    icon: "trash"

connections:
  - id: "google"
    name: "Google"
    logo: "https://cdn.itwcreativeworks.com/assets/general/images/brands/color/google.svg"
  - id: "discord"
    name: "Discord"
    logo: "https://cdn.itwcreativeworks.com/assets/general/images/brands/color/discord.svg"
  - id: "github"
    name: "GitHub"
    logo: "https://cdn.itwcreativeworks.com/assets/general/images/brands/color/github.svg"
  - id: "twitter"
    name: "Twitter"
    logo: "https://cdn.itwcreativeworks.com/assets/general/images/brands/color/twitter.svg"
  - id: "facebook"
    name: "Facebook"
    logo: "https://cdn.itwcreativeworks.com/assets/general/images/brands/color/facebook.svg"

signin_methods:
  - id: "password"
    name: "Password"
    icon: "key"
  - id: "google"
    name: "Google"
    logo: "https://cdn.itwcreativeworks.com/assets/general/images/brands/color/google.svg"

badges:
  - id: "member"
    name: "Member"
    icon: "sailboat"
    bg_class: "bg-primary"
    always_visible: true
  - id: "admin"
    name: "Admin"
    icon: "hat-wizard"
    bg_class: "bg-danger"
  - id: "premium"
    name: "Premium"
    icon: "crown"
    bg_class: "bg-success"
  - id: "beta"
    name: "Beta"
    icon: "bolt"
    bg_color: "#6f42c1"
  - id: "coder"
    name: "Developer"
    icon: "code"
    bg_color: "#20c997"
  - id: "moderator"
    name: "Moderator"
    icon: "shield-halved"
    bg_color: "#fd7e14"
  - id: "vip"
    name: "VIP"
    icon: "award"
    bg_color: "#ffc107"
---

<!-- Fixed Header -->
<header class="position-fixed top-0 start-0 w-100 bg-body-secondary border-bottom shadow-sm" style="z-index: 1030;">
  <div class="container-fluid px-4">
    <div class="d-flex align-items-center justify-content-between py-3">
      <!-- Left: Brand -->
      <div class="d-flex align-items-center">
        <span class="avatar avatar-md me-3">
          <img src="{{ site.brand.images.brandmark }}?cb={{ site.uj.cache_breaker }}" alt="{{ site.brand.name }}"/>
        </span>
        <h1 class="h5 mb-0 fw-semibold">{{ site.brand.name }} Account</h1>
      </div>

      <!-- Right: Close button -->
      <button type="button" class="btn-close" aria-label="Close" onclick="window.location.href='/'"></button>
    </div>
  </div>
</header>

<!-- Mobile Navigation Dropdown -->
<div class="d-lg-none pt-5">
  <div class="container-fluid">
    <div class="card border-0 shadow-sm">
      <div class="card-body p-3">
        <div class="d-flex gap-2">
          <select class="form-select flex-grow-1" id="mobile-nav-select" aria-label="Select account section">
            {% for section in page.resolved.sections %}
              {% unless section.id == 'delete' %}
                <option value="{{ section.id }}" {% if forloop.first %}selected{% endif %}>
                  {{ section.name }}
                </option>
              {% endunless %}
            {% endfor %}
            <!-- Delete option will be added dynamically by JavaScript when needed -->
          </select>
          <button class="btn btn-danger auth-signout-btn">
            {% uj_icon "arrow-right-from-bracket", "fa-sm" %}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Main Content with Sidebar -->
<div class="pt-3 d-lg-none"></div>
<div class="pt-8 d-none d-lg-block"></div>
<div class="container-fluid">
  <div class="row">
    <!-- Desktop Sidebar -->
    <nav class="col-lg-3 d-none d-lg-block px-3 pb-3 pt-0" aria-label="Account navigation">
      <div class="card border-0 shadow-sm position-sticky">
        <div class="card-body p-3">
          <ul class="nav nav-pills flex-column" id="account-nav" role="tablist" aria-label="Account sections">
            {% for section in page.resolved.sections %}
              <li class="nav-item {% if section.id == 'delete' %}d-none{% endif %}" id="{{ section.id }}-nav-item">
                <a class="nav-link d-flex align-items-center {% if forloop.first %}active{% endif %}"
                  href="#{{ section.id }}"
                  data-section="{{ section.id }}"
                  role="tab">
                  <span class="me-2 d-inline-flex align-items-center justify-content-center">{% uj_icon section.icon, "fa-lg" %}</span>
                  <span>{{ section.name }}</span>
                </a>
              </li>
            {% endfor %}
          </ul>

          <!-- Sign Out Button -->
          <div class="mt-3 pt-3 border-top">
            <button class="btn btn-danger w-100 d-flex align-items-center justify-content-center auth-signout-btn">
              {% uj_icon "arrow-right-from-bracket", "me-2" %}
              <span class="button-text">Sign Out</span>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Content Area -->
    <div class="col-lg-9 text-start">
      <div class="_px-3 py-4 pt-0">

      <!-- Loading Section (visible initially) -->
      <section id="loading-section" class="account-section">
        <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 400px;">
          <div class="spinner-border spinner-border-lg text-primary mb-3" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <h4 class="text-muted">Loading your account...</h4>
        </div>
      </section>

      <!-- Profile Section -->
      <section id="profile-section" class="account-section d-none">
        <h2 class="h3 mb-4" >My Profile</h2>

        <form id="profile-form" novalidate>
          <!-- Avatar and Edit Button -->
          <div class="mb-4">
            <div class="d-flex align-items-center">
              <div id="avatar-container" class="me-3 position-relative">
                <!-- Avatar always available from getUser() -->
                <div class="avatar avatar-lg rounded-circle overflow-hidden border">
                  <img src="{{ site.uj.placeholder.src }}" data-wm-bind="@attr src auth.user.photoURL" class="object-fit-cover w-100 h-100" alt="{{ site.brand.name }} profile picture"/>
                </div>
                <!-- Active status indicator -->
                <span class="position-absolute bottom-0 end-0 p-1 bg-success border border-2 border-white avatar avatar-2xs rounded-circle mb-2">
                  <span class="visually-hidden">Active status</span>
                </span>
              </div>
              <div>
                <h5 class="mb-1" data-wm-bind="@text auth.user.displayName">Loading...</h5>
                <small class="text-muted" id="profile-join-date">Member since Loading...</small>
              </div>
            </div>

            <!-- Role Badges -->
            <div id="role-badges" class="mt-2 d-flex gap-2 flex-wrap">
              {% for badge in page.resolved.badges %}
                <span id="badge-{{ badge.id }}" class="badge {{ badge.bg_class }} {% unless badge.always_visible %}d-none{% endunless %}" {% iftruthy badge.bg_color %}style="background-color: {{ badge.bg_color }};"{% endiftruthy %}>
                  {% uj_icon badge.icon, "fa-sm" %}
                  {{ badge.name }}
                </span>
              {% endfor %}
            </div>
          </div>

          <!-- Account Details Section -->
          <div class="card mb-3">
            <div class="card-body">
              <h5 class="card-title text-body mb-3">Account Details</h5>

              <!-- Email and UID Fields Row -->
              <div class="row g-3">
                <!-- Email Field -->
                <div class="col-lg-6">
                  <label for="email-input" class="form-label small text-muted">
                    Email
                  </label>
                  <input type="email" class="form-control" id="email-input" name="auth.email" autocomplete="email" readonly>
                </div>

                <!-- UID Field -->
                <div class="col-lg-6">
                  <label for="uid-input" class="form-label small text-muted">
                    User ID
                  </label>
                  <div class="input-group">
                    <input type="text" class="form-control font-monospace" id="uid-input" name="auth.uid" readonly>
                    <button type="button" class="btn btn-outline-adaptive" id="copy-uid-btn">
                      {% uj_icon "copy", "me-2" %}
                      <span class="button-text d-none d-sm-inline">Copy</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Personal Information Section -->
          <div class="card mb-3">
            <div class="card-body">
              <h5 class="card-title text-body mb-3">Personal Information</h5>

              <!-- Name Fields Row -->
              <div class="row g-3 mb-3">
                <div class="col-md-6">
                  <label for="first-name-input" class="form-label small text-muted">First Name</label>
                  <input type="text" class="form-control" id="first-name-input" name="personal.name.first" autocomplete="given-name" placeholder="Enter first name">
                </div>
                <div class="col-md-6">
                  <label for="last-name-input" class="form-label small text-muted">Last Name</label>
                  <input type="text" class="form-control" id="last-name-input" name="personal.name.last" autocomplete="family-name" placeholder="Enter last name">
                </div>
              </div>

              <!-- Birthday and Gender Row -->
              <div class="row g-3 mb-3">
                <div class="col-md-6">
                  <label for="birthday-input" class="form-label small text-muted">Birthday</label>
                  <input type="date" class="form-control" id="birthday-input" name="personal.birthday" autocomplete="bday">
                </div>
                <div class="col-md-6">
                  <label for="gender-select" class="form-label small text-muted">Gender</label>
                  <select class="form-select" id="gender-select" name="personal.gender" autocomplete="sex">
                    <option value="">Select gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                  </select>
                </div>
              </div>

              <!-- Country and Region Row -->
              <div class="row g-3 mb-3">
                <div class="col-md-6">
                  <label for="country-select" class="form-label small text-muted">Country</label>
                  <select class="form-select" id="country-select" name="personal.location.country" autocomplete="country">
                    <option value="">Select country</option>
                    <option value="AF">Afghanistan</option>
                    <option value="AL">Albania</option>
                    <option value="DZ">Algeria</option>
                    <option value="AD">Andorra</option>
                    <option value="AO">Angola</option>
                    <option value="AG">Antigua and Barbuda</option>
                    <option value="AR">Argentina</option>
                    <option value="AM">Armenia</option>
                    <option value="AU">Australia</option>
                    <option value="AT">Austria</option>
                    <option value="AZ">Azerbaijan</option>
                    <option value="BS">Bahamas</option>
                    <option value="BH">Bahrain</option>
                    <option value="BD">Bangladesh</option>
                    <option value="BB">Barbados</option>
                    <option value="BY">Belarus</option>
                    <option value="BE">Belgium</option>
                    <option value="BZ">Belize</option>
                    <option value="BJ">Benin</option>
                    <option value="BT">Bhutan</option>
                    <option value="BO">Bolivia</option>
                    <option value="BA">Bosnia and Herzegovina</option>
                    <option value="BW">Botswana</option>
                    <option value="BR">Brazil</option>
                    <option value="BN">Brunei</option>
                    <option value="BG">Bulgaria</option>
                    <option value="BF">Burkina Faso</option>
                    <option value="BI">Burundi</option>
                    <option value="KH">Cambodia</option>
                    <option value="CM">Cameroon</option>
                    <option value="CA">Canada</option>
                    <option value="CV">Cape Verde</option>
                    <option value="CF">Central African Republic</option>
                    <option value="TD">Chad</option>
                    <option value="CL">Chile</option>
                    <option value="CN">China</option>
                    <option value="CO">Colombia</option>
                    <option value="KM">Comoros</option>
                    <option value="CG">Congo</option>
                    <option value="CR">Costa Rica</option>
                    <option value="HR">Croatia</option>
                    <option value="CU">Cuba</option>
                    <option value="CY">Cyprus</option>
                    <option value="CZ">Czech Republic</option>
                    <option value="DK">Denmark</option>
                    <option value="DJ">Djibouti</option>
                    <option value="DM">Dominica</option>
                    <option value="DO">Dominican Republic</option>
                    <option value="EC">Ecuador</option>
                    <option value="EG">Egypt</option>
                    <option value="SV">El Salvador</option>
                    <option value="GQ">Equatorial Guinea</option>
                    <option value="ER">Eritrea</option>
                    <option value="EE">Estonia</option>
                    <option value="ET">Ethiopia</option>
                    <option value="FJ">Fiji</option>
                    <option value="FI">Finland</option>
                    <option value="FR">France</option>
                    <option value="GA">Gabon</option>
                    <option value="GM">Gambia</option>
                    <option value="GE">Georgia</option>
                    <option value="DE">Germany</option>
                    <option value="GH">Ghana</option>
                    <option value="GR">Greece</option>
                    <option value="GD">Grenada</option>
                    <option value="GT">Guatemala</option>
                    <option value="GN">Guinea</option>
                    <option value="GW">Guinea-Bissau</option>
                    <option value="GY">Guyana</option>
                    <option value="HT">Haiti</option>
                    <option value="HN">Honduras</option>
                    <option value="HU">Hungary</option>
                    <option value="IS">Iceland</option>
                    <option value="IN">India</option>
                    <option value="ID">Indonesia</option>
                    <option value="IR">Iran</option>
                    <option value="IQ">Iraq</option>
                    <option value="IE">Ireland</option>
                    <option value="IL">Israel</option>
                    <option value="IT">Italy</option>
                    <option value="JM">Jamaica</option>
                    <option value="JP">Japan</option>
                    <option value="JO">Jordan</option>
                    <option value="KZ">Kazakhstan</option>
                    <option value="KE">Kenya</option>
                    <option value="KI">Kiribati</option>
                    <option value="KP">North Korea</option>
                    <option value="KR">South Korea</option>
                    <option value="KW">Kuwait</option>
                    <option value="KG">Kyrgyzstan</option>
                    <option value="LA">Laos</option>
                    <option value="LV">Latvia</option>
                    <option value="LB">Lebanon</option>
                    <option value="LS">Lesotho</option>
                    <option value="LR">Liberia</option>
                    <option value="LY">Libya</option>
                    <option value="LI">Liechtenstein</option>
                    <option value="LT">Lithuania</option>
                    <option value="LU">Luxembourg</option>
                    <option value="MK">Macedonia</option>
                    <option value="MG">Madagascar</option>
                    <option value="MW">Malawi</option>
                    <option value="MY">Malaysia</option>
                    <option value="MV">Maldives</option>
                    <option value="ML">Mali</option>
                    <option value="MT">Malta</option>
                    <option value="MH">Marshall Islands</option>
                    <option value="MR">Mauritania</option>
                    <option value="MU">Mauritius</option>
                    <option value="MX">Mexico</option>
                    <option value="FM">Micronesia</option>
                    <option value="MD">Moldova</option>
                    <option value="MC">Monaco</option>
                    <option value="MN">Mongolia</option>
                    <option value="ME">Montenegro</option>
                    <option value="MA">Morocco</option>
                    <option value="MZ">Mozambique</option>
                    <option value="MM">Myanmar</option>
                    <option value="NA">Namibia</option>
                    <option value="NR">Nauru</option>
                    <option value="NP">Nepal</option>
                    <option value="NL">Netherlands</option>
                    <option value="NZ">New Zealand</option>
                    <option value="NI">Nicaragua</option>
                    <option value="NE">Niger</option>
                    <option value="NG">Nigeria</option>
                    <option value="NO">Norway</option>
                    <option value="OM">Oman</option>
                    <option value="PK">Pakistan</option>
                    <option value="PW">Palau</option>
                    <option value="PA">Panama</option>
                    <option value="PG">Papua New Guinea</option>
                    <option value="PY">Paraguay</option>
                    <option value="PE">Peru</option>
                    <option value="PH">Philippines</option>
                    <option value="PL">Poland</option>
                    <option value="PT">Portugal</option>
                    <option value="QA">Qatar</option>
                    <option value="RO">Romania</option>
                    <option value="RU">Russia</option>
                    <option value="RW">Rwanda</option>
                    <option value="KN">Saint Kitts and Nevis</option>
                    <option value="LC">Saint Lucia</option>
                    <option value="VC">Saint Vincent and the Grenadines</option>
                    <option value="WS">Samoa</option>
                    <option value="SM">San Marino</option>
                    <option value="ST">Sao Tome and Principe</option>
                    <option value="SA">Saudi Arabia</option>
                    <option value="SN">Senegal</option>
                    <option value="RS">Serbia</option>
                    <option value="SC">Seychelles</option>
                    <option value="SL">Sierra Leone</option>
                    <option value="SG">Singapore</option>
                    <option value="SK">Slovakia</option>
                    <option value="SI">Slovenia</option>
                    <option value="SB">Solomon Islands</option>
                    <option value="SO">Somalia</option>
                    <option value="ZA">South Africa</option>
                    <option value="ES">Spain</option>
                    <option value="LK">Sri Lanka</option>
                    <option value="SD">Sudan</option>
                    <option value="SR">Suriname</option>
                    <option value="SZ">Swaziland</option>
                    <option value="SE">Sweden</option>
                    <option value="CH">Switzerland</option>
                    <option value="SY">Syria</option>
                    <option value="TW">Taiwan</option>
                    <option value="TJ">Tajikistan</option>
                    <option value="TZ">Tanzania</option>
                    <option value="TH">Thailand</option>
                    <option value="TL">Timor-Leste</option>
                    <option value="TG">Togo</option>
                    <option value="TO">Tonga</option>
                    <option value="TT">Trinidad and Tobago</option>
                    <option value="TN">Tunisia</option>
                    <option value="TR">Turkey</option>
                    <option value="TM">Turkmenistan</option>
                    <option value="TV">Tuvalu</option>
                    <option value="UG">Uganda</option>
                    <option value="UA">Ukraine</option>
                    <option value="AE">United Arab Emirates</option>
                    <option value="GB">United Kingdom</option>
                    <option value="US">United States</option>
                    <option value="UY">Uruguay</option>
                    <option value="UZ">Uzbekistan</option>
                    <option value="VU">Vanuatu</option>
                    <option value="VA">Vatican City</option>
                    <option value="VE">Venezuela</option>
                    <option value="VN">Vietnam</option>
                    <option value="YE">Yemen</option>
                    <option value="ZM">Zambia</option>
                    <option value="ZW">Zimbabwe</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <label for="region-input" class="form-label small text-muted">Region</label>
                  <input type="text" class="form-control" id="region-input" name="personal.location.region" autocomplete="address-level1" placeholder="State, Province, or Region">
                </div>
              </div>

              <!-- City and Phone Row -->
              <div class="row g-3 mb-3">
                <div class="col-md-6">
                  <label for="city-input" class="form-label small text-muted">City</label>
                  <input type="text" class="form-control" id="city-input" name="personal.location.city" autocomplete="address-level2" placeholder="City">
                </div>
                <div class="col-md-6">
                  <label for="phone-input" class="form-label small text-muted">Phone</label>
                  <div class="input-group">
                    <select class="form-select flex-shrink-1" id="phone-country-code" name="personal.telephone.countryCode" autocomplete="tel-country-code" style="max-width: 140px;">
                      <option value="+1">+1 (USA/CAN)</option>
                      <option value="+7">+7 (RUS/KAZ)</option>
                      <option value="+20">+20 (EGY)</option>
                      <option value="+27">+27 (ZAF)</option>
                      <option value="+30">+30 (GRC)</option>
                      <option value="+31">+31 (NLD)</option>
                      <option value="+32">+32 (BEL)</option>
                      <option value="+33">+33 (FRA)</option>
                      <option value="+34">+34 (ESP)</option>
                      <option value="+36">+36 (HUN)</option>
                      <option value="+39">+39 (ITA)</option>
                      <option value="+40">+40 (ROU)</option>
                      <option value="+41">+41 (CHE)</option>
                      <option value="+43">+43 (AUT)</option>
                      <option value="+44">+44 (GBR)</option>
                      <option value="+45">+45 (DNK)</option>
                      <option value="+46">+46 (SWE)</option>
                      <option value="+47">+47 (NOR)</option>
                      <option value="+48">+48 (POL)</option>
                      <option value="+49">+49 (DEU)</option>
                      <option value="+51">+51 (PER)</option>
                      <option value="+52">+52 (MEX)</option>
                      <option value="+53">+53 (CUB)</option>
                      <option value="+54">+54 (ARG)</option>
                      <option value="+55">+55 (BRA)</option>
                      <option value="+56">+56 (CHL)</option>
                      <option value="+57">+57 (COL)</option>
                      <option value="+58">+58 (VEN)</option>
                      <option value="+60">+60 (MYS)</option>
                      <option value="+61">+61 (AUS)</option>
                      <option value="+62">+62 (IDN)</option>
                      <option value="+63">+63 (PHL)</option>
                      <option value="+64">+64 (NZL)</option>
                      <option value="+65">+65 (SGP)</option>
                      <option value="+66">+66 (THA)</option>
                      <option value="+81">+81 (JPN)</option>
                      <option value="+82">+82 (KOR)</option>
                      <option value="+84">+84 (VNM)</option>
                      <option value="+86">+86 (CHN)</option>
                      <option value="+90">+90 (TUR)</option>
                      <option value="+91">+91 (IND)</option>
                      <option value="+92">+92 (PAK)</option>
                      <option value="+93">+93 (AFG)</option>
                      <option value="+94">+94 (LKA)</option>
                      <option value="+95">+95 (MMR)</option>
                      <option value="+98">+98 (IRN)</option>
                      <option value="+212">+212 (MAR)</option>
                      <option value="+213">+213 (DZA)</option>
                      <option value="+216">+216 (TUN)</option>
                      <option value="+218">+218 (LBY)</option>
                      <option value="+220">+220 (GMB)</option>
                      <option value="+221">+221 (SEN)</option>
                      <option value="+222">+222 (MRT)</option>
                      <option value="+223">+223 (MLI)</option>
                      <option value="+224">+224 (GIN)</option>
                      <option value="+225">+225 (CIV)</option>
                      <option value="+226">+226 (BFA)</option>
                      <option value="+227">+227 (NER)</option>
                      <option value="+228">+228 (TGO)</option>
                      <option value="+229">+229 (BEN)</option>
                      <option value="+230">+230 (MUS)</option>
                      <option value="+231">+231 (LBR)</option>
                      <option value="+232">+232 (SLE)</option>
                      <option value="+233">+233 (GHA)</option>
                      <option value="+234">+234 (NGA)</option>
                      <option value="+235">+235 (TCD)</option>
                      <option value="+236">+236 (CAF)</option>
                      <option value="+237">+237 (CMR)</option>
                      <option value="+238">+238 (CPV)</option>
                      <option value="+239">+239 (STP)</option>
                      <option value="+240">+240 (GNQ)</option>
                      <option value="+241">+241 (GAB)</option>
                      <option value="+242">+242 (COG)</option>
                      <option value="+243">+243 (COD)</option>
                      <option value="+244">+244 (AGO)</option>
                      <option value="+245">+245 (GNB)</option>
                      <option value="+246">+246 (IOT)</option>
                      <option value="+248">+248 (SYC)</option>
                      <option value="+249">+249 (SDN)</option>
                      <option value="+250">+250 (RWA)</option>
                      <option value="+251">+251 (ETH)</option>
                      <option value="+252">+252 (SOM)</option>
                      <option value="+253">+253 (DJI)</option>
                      <option value="+254">+254 (KEN)</option>
                      <option value="+255">+255 (TZA)</option>
                      <option value="+256">+256 (UGA)</option>
                      <option value="+257">+257 (BDI)</option>
                      <option value="+258">+258 (MOZ)</option>
                      <option value="+260">+260 (ZMB)</option>
                      <option value="+261">+261 (MDG)</option>
                      <option value="+262">+262 (REU)</option>
                      <option value="+263">+263 (ZWE)</option>
                      <option value="+264">+264 (NAM)</option>
                      <option value="+265">+265 (MWI)</option>
                      <option value="+266">+266 (LSO)</option>
                      <option value="+267">+267 (BWA)</option>
                      <option value="+268">+268 (SWZ)</option>
                      <option value="+269">+269 (COM)</option>
                      <option value="+290">+290 (SHN)</option>
                      <option value="+291">+291 (ERI)</option>
                      <option value="+297">+297 (ABW)</option>
                      <option value="+298">+298 (FRO)</option>
                      <option value="+299">+299 (GRL)</option>
                      <option value="+350">+350 (GIB)</option>
                      <option value="+351">+351 (PRT)</option>
                      <option value="+352">+352 (LUX)</option>
                      <option value="+353">+353 (IRL)</option>
                      <option value="+354">+354 (ISL)</option>
                      <option value="+355">+355 (ALB)</option>
                      <option value="+356">+356 (MLT)</option>
                      <option value="+357">+357 (CYP)</option>
                      <option value="+358">+358 (FIN)</option>
                      <option value="+359">+359 (BGR)</option>
                      <option value="+370">+370 (LTU)</option>
                      <option value="+371">+371 (LVA)</option>
                      <option value="+372">+372 (EST)</option>
                      <option value="+373">+373 (MDA)</option>
                      <option value="+374">+374 (ARM)</option>
                      <option value="+375">+375 (BLR)</option>
                      <option value="+376">+376 (AND)</option>
                      <option value="+377">+377 (MCO)</option>
                      <option value="+378">+378 (SMR)</option>
                      <option value="+380">+380 (UKR)</option>
                      <option value="+381">+381 (SRB)</option>
                      <option value="+382">+382 (MNE)</option>
                      <option value="+385">+385 (HRV)</option>
                      <option value="+386">+386 (SVN)</option>
                      <option value="+387">+387 (BIH)</option>
                      <option value="+389">+389 (MKD)</option>
                      <option value="+420">+420 (CZE)</option>
                      <option value="+421">+421 (SVK)</option>
                      <option value="+423">+423 (LIE)</option>
                      <option value="+500">+500 (FLK)</option>
                      <option value="+501">+501 (BLZ)</option>
                      <option value="+502">+502 (GTM)</option>
                      <option value="+503">+503 (SLV)</option>
                      <option value="+504">+504 (HND)</option>
                      <option value="+505">+505 (NIC)</option>
                      <option value="+506">+506 (CRI)</option>
                      <option value="+507">+507 (PAN)</option>
                      <option value="+509">+509 (HTI)</option>
                      <option value="+590">+590 (GLP/BLF/MAF)</option>
                      <option value="+591">+591 (BOL)</option>
                      <option value="+592">+592 (GUY)</option>
                      <option value="+593">+593 (ECU)</option>
                      <option value="+594">+594 (GUF)</option>
                      <option value="+595">+595 (PRY)</option>
                      <option value="+596">+596 (MTQ)</option>
                      <option value="+597">+597 (SUR)</option>
                      <option value="+598">+598 (URY)</option>
                      <option value="+599">+599 (CUW/BES)</option>
                      <option value="+670">+670 (TLS)</option>
                      <option value="+673">+673 (BRN)</option>
                      <option value="+674">+674 (NRU)</option>
                      <option value="+675">+675 (PNG)</option>
                      <option value="+676">+676 (TON)</option>
                      <option value="+677">+677 (SLB)</option>
                      <option value="+678">+678 (VUT)</option>
                      <option value="+679">+679 (FJI)</option>
                      <option value="+680">+680 (PLW)</option>
                      <option value="+681">+681 (WLF)</option>
                      <option value="+682">+682 (COK)</option>
                      <option value="+683">+683 (NIU)</option>
                      <option value="+685">+685 (WSM)</option>
                      <option value="+686">+686 (KIR)</option>
                      <option value="+687">+687 (NCL)</option>
                      <option value="+688">+688 (TUV)</option>
                      <option value="+689">+689 (PYF)</option>
                      <option value="+690">+690 (TKL)</option>
                      <option value="+691">+691 (FSM)</option>
                      <option value="+692">+692 (MHL)</option>
                      <option value="+850">+850 (PRK)</option>
                      <option value="+852">+852 (HKG)</option>
                      <option value="+853">+853 (MAC)</option>
                      <option value="+855">+855 (KHM)</option>
                      <option value="+856">+856 (LAO)</option>
                      <option value="+880">+880 (BGD)</option>
                      <option value="+886">+886 (TWN)</option>
                      <option value="+960">+960 (MDV)</option>
                      <option value="+961">+961 (LBN)</option>
                      <option value="+962">+962 (JOR)</option>
                      <option value="+963">+963 (SYR)</option>
                      <option value="+964">+964 (IRQ)</option>
                      <option value="+965">+965 (KWT)</option>
                      <option value="+966">+966 (SAU)</option>
                      <option value="+967">+967 (YEM)</option>
                      <option value="+968">+968 (OMN)</option>
                      <option value="+970">+970 (PSE)</option>
                      <option value="+971">+971 (ARE)</option>
                      <option value="+972">+972 (ISR)</option>
                      <option value="+973">+973 (BHR)</option>
                      <option value="+974">+974 (QAT)</option>
                      <option value="+975">+975 (BTN)</option>
                      <option value="+976">+976 (MNG)</option>
                      <option value="+977">+977 (NPL)</option>
                      <option value="+992">+992 (TJK)</option>
                      <option value="+993">+993 (TKM)</option>
                      <option value="+994">+994 (AZE)</option>
                      <option value="+995">+995 (GEO)</option>
                      <option value="+996">+996 (KGZ)</option>
                      <option value="+998">+998 (UZB)</option>
                    </select>
                    <input type="tel" class="form-control" id="phone-input" name="personal.telephone.national" autocomplete="tel-national" placeholder="Phone number">
                  </div>
                </div>
              </div>

              <!-- Save Button -->
              <div class="mt-3 d-grid d-sm-block">
                <button type="submit" class="btn btn-primary">
                  {% uj_icon "floppy-disk", "me-2" %}
                  <span class="button-text">Save Changes</span>
                </button>
              </div>
            </div>
          </div>
        </form>
      </section>

      <!-- Notifications Section -->
      <section id="notifications-section" class="account-section d-none">
        <h2 class="h3 mb-4" >Notifications</h2>

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Email Notifications</h5>

            <div class="form-check form-switch mb-3">
              <input class="form-check-input" type="checkbox" id="marketing-emails" checked>
              <label class="form-check-label" for="marketing-emails">
                Marketing emails
                <small class="d-block text-muted">Receive emails about new features and updates</small>
              </label>
            </div>

            <div class="form-check form-switch mb-3">
              <input class="form-check-input" type="checkbox" id="security-emails" checked>
              <label class="form-check-label" for="security-emails">
                Security alerts
                <small class="d-block text-muted">Get notified about important security updates</small>
              </label>
            </div>

            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="product-emails">
              <label class="form-check-label" for="product-emails">
                Product updates
                <small class="d-block text-muted">Receive updates about your products and services</small>
              </label>
            </div>
          </div>
        </div>
      </section>

      <!-- Security Section -->
      <section id="security-section" class="account-section d-none">
        <h2 class="h3 mb-4" >Security and Data</h2>

        <!-- Sign-in Methods Section -->
        <div class="card mb-3">
          <div class="card-body">
            <h5 class="card-title">Sign-in Methods</h5>
            <p class="text-muted mb-0">Manage how you sign in to your account. You can connect multiple methods for added convenience and security.</p>

            <div id="signin-methods-list">
              {% for method in page.resolved.signin_methods %}
                <div class="d-flex flex-column flex-sm-row align-items-stretch align-items-sm-center justify-content-between gap-3 py-3 {% unless forloop.first %}border-top{% endunless %}">
                  <div class="d-flex align-items-center">
                    <div class="d-flex align-items-center justify-content-center me-3 flex-shrink-0 {% iftruthy method.icon %}text-muted{% endiftruthy %} fa fa-3xl">
                      {% iftruthy method.icon %}
                        {% uj_icon method.icon, "fa-3xl" %}
                      {% endiftruthy %}
                      {% iftruthy method.logo %}
                        <img src="{{ method.logo }}?cb={{ site.uj.cache_breaker }}" class="object-fit-contain" alt="{{ method.name }} Logo"/>
                      {% endiftruthy %}
                    </div>
                    <div>
                      <strong>{{ method.name }}</strong>
                      <div class="text-muted small" id="{{ method.id }}-email"></div>
                    </div>
                  </div>
                  <div class="flex-shrink-0">
                    <form id="signin-method-{{ method.id }}-form" class="d-grid d-sm-inline-block" novalidate>
                      <input type="hidden" name="method" value="{{ method.id }}">
                      {% if method.id == "password" %}
                        <button type="submit" class="btn btn-primary btn-sm" data-action="change">
                          {% uj_icon "key", "me-1" %}
                          <span class="button-text">Change</span>
                        </button>
                      {% else %}
                        <!-- Connect button -->
                        <button type="submit" class="btn btn-primary btn-sm" data-action="connect">
                          {% uj_icon "link", "me-1" %}
                          <span class="button-text">Connect</span>
                        </button>
                        <!-- Disconnect button (hidden by default) -->
                        <button type="submit" class="btn btn-sm btn-outline-danger d-none" data-action="disconnect">
                          {% uj_icon "unlink", "me-1" %}
                          <span class="button-text">Disconnect</span>
                        </button>
                      {% endif %}
                    </form>
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>
        </div>

        <!-- <div class="card mb-3">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h5 class="card-title mb-0">Two-Factor Authentication</h5>
              <span id="2fa-status"></span>
            </div>
            <p class="card-text">Add an extra layer of security to your account.</p>
            <button id="2fa-btn" class="btn btn-primary">Enable 2FA</button>
          </div>
        </div> -->

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Active Sessions</h5>
            <p class="card-text text-muted">Manage your active sessions across devices. Review and revoke access from unrecognized devices.</p>

            <div id="active-sessions-list" class="list-group list-group-flush mb-3">
              <!-- Sessions will be loaded here -->
              <div class="text-center py-3">
                <div class="spinner-border spinner-border-sm text-primary" role="status">
                  <span class="visually-hidden">Loading sessions...</span>
                </div>
              </div>
            </div>

            <!-- Sign out of all sessions -->
            <form id="signout-all-sessions-form" class="d-grid d-sm-block" novalidate>
              <input type="hidden" name="action" value="signout-all">
              <button type="submit" class="btn btn-outline-danger">
                {% uj_icon "right-from-bracket", "me-1" %}
                <span class="button-text">Sign out of all sessions</span>
              </button>
            </form>
          </div>
        </div>
      </section>

      <!-- Connections Section -->
      <section id="connections-section" class="account-section d-none">
        <h2 class="h3 mb-4" >Connected Accounts</h2>

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Manage Connections</h5>
            <p class="text-muted mb-0">Connect your external accounts to access additional features.</p>

            <div id="connections-list" class="list-group list-group-flush">
              <!-- Loading state -->
              <div id="connections-loading" class="text-center py-3">
                <div class="spinner-border spinner-border-sm text-primary" role="status">
                  <span class="visually-hidden">Loading connections...</span>
                </div>
              </div>

              <!-- No connections message (hidden by default) -->
              <div id="connections-empty" class="text-center py-4 text-muted d-none">
                <p>No connections are available right now.</p>
              </div>

              {% for connection in page.resolved.connections %}
                <div id="connection-{{ connection.id }}" class="{% unless forloop.first %}border-top{% endunless %} px-0 py-3 d-none">
                  <div class="d-flex flex-column flex-sm-row align-items-stretch align-items-sm-center justify-content-between gap-3">
                    <div class="d-flex align-items-center">
                      <div class="d-flex align-items-center justify-content-center me-3 flex-shrink-0 fa fa-3xl">
                        <img src="{{ connection.logo }}?cb={{ site.uj.cache_breaker }}" class="object-fit-contain" alt="{{ connection.name }} Logo"/>
                      </div>
                      <div>
                        <h6 class="mb-0">{{ connection.name }}</h6>
                        <small class="text-muted d-block" id="{{ connection.id }}-connection-description"></small>
                      </div>
                    </div>
                    <div class="text-start text-sm-end flex-shrink-0">
                      <div>
                        <form id="connection-form-{{ connection.id }}" class="d-grid d-sm-inline-block" novalidate>
                          <input type="hidden" name="provider" value="{{ connection.id }}">
                          <!-- Connect button -->
                          <button type="submit" class="btn btn-sm btn-primary" data-action="connect">
                            {% uj_icon "link", "fa-sm" %}
                            <span class="button-text">Connect</span>
                          </button>
                          <!-- Disconnect button (hidden by default) -->
                          <button type="submit" class="btn btn-sm btn-outline-danger d-none" data-action="disconnect">
                            {% uj_icon "unlink", "fa-sm" %}
                            <span class="button-text">Disconnect</span>
                          </button>
                        </form>
                        <small class="text-muted d-block mt-1" id="{{ connection.id }}-connection-status"></small>
                      </div>
                    </div>
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </section>

      <!-- Billing Section -->
      <section id="billing-section" class="account-section d-none">
        <h2 class="h3 mb-4" >Billing and Usage</h2>

        <div class="card mb-3">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h5 class="card-title mb-1 d-flex align-items-center">
                  <span class="me-2">Current Plan</span>
                  <span id="plan-status"></span>
                </h5>
                <p class="card-text mb-0">
                  You are currently on the <strong id="current-plan-name">Basic</strong> plan.
                </p>
              </div>
            </div>

            <div class="d-grid d-sm-block">
              <button id="upgrade-plan-btn" class="btn btn-success plan-action-btn d-none">
                {% uj_icon "crown", "me-2" %}
                <span class="button-text">Upgrade Plan</span>
              </button>
              <button id="manage-plan-btn" class="btn btn-primary plan-action-btn d-none">
                {% uj_icon "gear", "me-2" %}
                <span class="button-text">Manage Plan</span>
              </button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Usage</h5>
            <div id="usage-metrics-container">
              <!-- Usage metrics will be dynamically inserted here -->
              <div class="text-muted">Loading usage data...</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Team Section -->
      <section id="team-section" class="account-section d-none">
        <h2 class="h3 mb-4" >Team</h2>

        <div class="card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h5 class="card-title mb-0">Team Members</h5>
              <button class="btn btn-primary btn-sm" id="invite-team-member-btn">
                {% uj_icon "user-plus", "me-2" %}
                <span class="button-text">
                  Invite<span class="d-none d-md-inline"> Team Member</span>
                </span>
              </button>
            </div>

            <div class="list-group" id="team-list">
              <div class="list-group-item">
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <strong>You</strong>
                    <small class="text-muted d-block">Owner</small>
                  </div>
                  <span class="badge bg-primary">Owner</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Referrals Section -->
      <section id="referrals-section" class="account-section d-none">
        <h2 class="h3 mb-4" >Referrals</h2>

        <!-- Referral Code Card -->
        <div class="card mb-3">
          <div class="card-body">
            <h5 class="card-title">Your Referral Code</h5>
            <p class="card-text text-muted">Share your referral code with friends to earn rewards.</p>

            <div class="mb-0">
              <div class="input-group">
                <input type="text" class="form-control font-monospace" id="referral-code-input" readonly value="Loading...">
                <button type="button" class="btn btn-outline-adaptive" id="copy-referral-code-btn">
                  {% uj_icon "copy", "me-2" %}
                  <span class="button-text d-none d-sm-inline">Copy</span>
                </button>
              </div>
            </div>

          </div>
        </div>

        <!-- Referrals Stats Card -->
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Referral Statistics</h5>

            <!-- Stats Summary -->
            <div class="row text-center mb-4">
              <div class="col">
                <div class="h3 mb-0" id="total-referrals">0</div>
                <div class="text-muted small">Total Referrals</div>
              </div>
              <div class="col">
                <div class="h3 mb-0" id="recent-referrals">0</div>
                <div class="text-muted small">This Month</div>
              </div>
            </div>

            <!-- Referrals List Accordion -->
            <div class="accordion" id="referrals-accordion">
              <div class="accordion-item">
                <h2 class="accordion-header" id="referrals-list-heading">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#referrals-list-collapse" aria-expanded="false" aria-controls="referrals-list-collapse">
                    <span class="me-2">{% uj_icon "users", "fa-sm" %}</span>
                    View Referral Details
                    <span class="badge bg-primary ms-2" id="referrals-badge">0</span>
                  </button>
                </h2>
                <div id="referrals-list-collapse" class="accordion-collapse collapse" aria-labelledby="referrals-list-heading" data-bs-parent="#referrals-accordion">
                  <div class="accordion-body">
                    <div id="referrals-list" class="list-group list-group-flush">
                      <!-- Referrals will be loaded here -->
                      <div class="text-center text-muted py-3">
                        No referrals yet. Share your code to get started!
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- API Keys Section -->
      <section id="api-keys-section" class="account-section d-none">
        <h2 class="h3 mb-4" >API Keys</h2>

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Your API Key</h5>
            <p class="card-text text-muted">Use this private key to authenticate API requests. Keep it secure and never share it publicly.</p>

            <!-- API Key Display -->
            <div class="mb-3">
              <label for="api-key-input" class="form-label small text-muted">Private API Key</label>
              <div class="input-group">
                <input type="text" class="form-control font-monospace" id="api-key-input" readonly value="Loading...">
                <button type="button" class="btn btn-outline-adaptive" id="copy-api-key-btn">
                  {% uj_icon "copy", "me-2" %}
                  <span class="button-text d-none d-sm-inline">Copy</span>
                </button>
              </div>
            </div>

            <!-- Reset API Key -->
            <div class="alert alert-warning d-flex align-items-start" role="alert">
              <div class="me-3">
                {% uj_icon "triangle-exclamation", "fa-lg" %}
              </div>
              <div class="flex-grow-1">
                <strong>Warning:</strong> Resetting your API key will invalidate the current key. Any applications using the old key will stop working.
              </div>
            </div>

            <form id="reset-api-key-form" class="d-grid d-sm-block" novalidate>
              <button type="submit" class="btn btn-danger" id="reset-api-key-btn">
                {% uj_icon "rotate", "me-2" %}
                <span class="button-text">Reset API Key</span>
              </button>
            </form>
          </div>
        </div>
      </section>

      <!-- Delete Account Section (Hidden by default) -->
      <section id="delete-section" class="account-section d-none">
        <h2 class="h3 mb-4 text-danger" >Delete Account</h2>

        <div class="alert alert-danger">
          <h5 class="alert-heading">
            {% uj_icon "triangle-exclamation", "fa-lg" %}
            Warning: This action cannot be undone
          </h5>
          <p>Deleting your account will permanently remove:</p>
          <ul class="mb-2">
            <li>All your personal information</li>
            <li>Your subscription and billing history</li>
            <li>Access to all services and data</li>
            <li>Any stored content or settings</li>
          </ul>
          <p class="mb-0"><strong>This action is immediate and irreversible.</strong></p>
        </div>

        <div class="card border-danger">
          <div class="card-body">
            <h5 class="card-title text-danger">Confirm Account Deletion</h5>

            <form id="delete-account-form" novalidate>
              <div class="mb-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="delete-confirm-checkbox" required>
                  <label class="form-check-label" for="delete-confirm-checkbox">
                    I understand that deleting my account is permanent and cannot be reversed. All my data will be lost forever.
                  </label>
                </div>
              </div>

              <div class="mb-3">
                <label for="delete-reason" class="form-label">Reason for leaving (optional)</label>
                <textarea class="form-control" id="delete-reason" rows="3" placeholder="Help us improve by sharing why you're leaving..."></textarea>
              </div>

              <div class="d-grid gap-2">
                <button type="submit" class="btn btn-danger" id="delete-account-btn" disabled>
                  {% uj_icon "trash", "fa-sm" %}
                  <span class="button-text">Delete My Account Permanently</span>
                </button>
                <button type="button" class="btn btn-outline-secondary" id="cancel-delete-btn">
                  Cancel
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>

      </div>
    </div>
  </div>
</div>
