---
### ALL PAGES ###
layout: themes/[ site.theme.id ]/frontend/core/base

### PAGE CONFIG ###
# Hero Section
hero:
  headline: "Blog"
  headline_accent: "tags"
  subheadline: "Browse posts by tag"
---

<!-- Hero Section -->
<section>
  <div class="container">
    <div class="row justify-content-center text-center">
      <div class="col-lg-10" data-lazy="@class animation-slide-up">
        <h1 class="h1 mb-3">
          {{ page.resolved.hero.headline }} <span class="text-gradient-rainbow">{{ page.resolved.hero.headline_accent }}</span>
        </h1>
        {% iftruthy page.resolved.hero.subheadline %}
          <p class="fs-5 text-muted">
            {{ page.resolved.hero.subheadline }}
          </p>
        {% endiftruthy %}
      </div>
    </div>
  </div>
</section>

<!-- Tags Cloud -->
<section class="pt-4">
  <div class="container">
    {% comment %} Build unique tags list with post counts {% endcomment %}
    {% assign tags = '' | split: ',' %}
    {% assign tag_counts = '' | split: ',' %}
    {% for post in site.posts %}
      {% for tag in post.post.tags %}
        {% assign tag_fixed = tag | uj_title_case %}
        {% unless tags contains tag_fixed %}
          {% assign tags = tags | push: tag_fixed %}
          {% comment %} Count posts for this tag {% endcomment %}
          {% assign count = 0 %}
          {% for p in site.posts %}
            {% for t in p.post.tags %}
              {% assign t_fixed = t | uj_title_case %}
              {% if t_fixed == tag_fixed %}
                {% assign count = count | plus: 1 %}
                {% break %}
              {% endif %}
            {% endfor %}
          {% endfor %}
          {% assign tag_counts = tag_counts | push: count %}
        {% endunless %}
      {% endfor %}
    {% endfor %}

    <div class="row justify-content-center mb-5">
      <div class="col-lg-10">
        <div class="d-flex flex-wrap gap-2 justify-content-center" data-lazy="@class animation-slide-up">
          {% for tag in tags %}
            <a href="{{ site.url }}/blog/tags/{{ tag | slugify }}" class="btn btn-adaptive px-3 py-2 d-inline-flex align-items-center gap-2">
              {% uj_icon "tag", "fa-lg" %}
              {{ tag }}
              <span class="badge bg-primary rounded-pill">{{ tag_counts[forloop.index0] }}</span>
            </a>
          {% endfor %}
        </div>
      </div>
    </div>

    {% if tags.size == 0 %}
      <div class="row justify-content-center">
        <div class="col-lg-6 text-center" data-lazy="@class animation-slide-up">
          <div class="py-5">
            {% uj_icon "tags", "fa-4xl text-muted mb-3" %}
            <h2 class="h4 text-muted">No tags yet</h2>
            <p class="text-muted">Check back soon for tagged content.</p>
            <a href="{{ site.url }}/blog" class="btn btn-primary">
              {% uj_icon "arrow-left", "me-2" %}
              Back to Blog
            </a>
          </div>
        </div>
      </div>
    {% endif %}
  </div>
</section>

{{ content | uj_content_format }}
